<!DOCTYPE html>
<html lang="ja" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.40.1" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="/Pita/images/favicon.png" type="image/x-icon" />
<link rel="icon" href="/Pita/images/favicon.png" type="image/x-icon" />
    <title>リサイクルマークを作る :: Documentation for Pita</title>
    
    
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link href="/Pita/css/nucleus.css?1553849836" rel="stylesheet">
    <link href="/Pita/css/font-awesome.min.css?1553849836" rel="stylesheet">
    <link href="/Pita/css/hybrid.css?1553849836" rel="stylesheet">
    <link href="/Pita/css/featherlight.min.css?1553849836" rel="stylesheet">
    <link href="/Pita/css/perfect-scrollbar.min.css?1553849836" rel="stylesheet">
    <link href="/Pita/css/auto-complete.css?1553849836" rel="stylesheet">
    <link href="/Pita/css/theme.css?1553849836" rel="stylesheet">
    <link href="/Pita/css/hugo-theme.css?1553849836" rel="stylesheet">
    
      <link href="/Pita/css/theme-blue.css?1553849836" rel="stylesheet">
    
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">

    <script src="/Pita/js/jquery-2.x.min.js?1553849836"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.3/ace.js" type="text/javascript" charset="utf-8"></script>

    <script src="https://use.typekit.net/agz1sns.js"></script>
    <script>try{Typekit.load({ async: true });}catch(e){}</script>

    <style type="text/css">
      :root #header + #content > #left > #rlblock_left{ 
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/Pita/ja/tutorial/recycle/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="-54.4615 -47.5 309.274 95">
  <g id="shape" fill="rgb(255, 255, 255)" >
    <g id="s" >
      <g id="a" >
        <g id="c" >
            <g id="result[0]" >
              <path d="M18.3712,18.3712 L6.72432,-25.0955 L-25.0955,6.72432 L18.3712,18.3712 z M0,-17.3205 L15,8.66025 L-15,8.66025 L0,-17.3205 z "/>
            </g>
            <g id="result[1]" >
              <path d="M25.9808,45 L25.9808,-45 L-51.9615,7.76632e-10 L25.9808,45 z M8.96575,-33.4607 L24.4949,24.4949 L-33.4607,8.96575 L8.96575,-33.4607 z "/>
            </g>
        </g>
      </g>
      <g id="b" >
        <g id="text2" >
            <g id="result[0]" >
              <path d="M94.3416,-26.849 L93.1037,-30.7653 L91.4217,-33.9895 L89.3033,-36.5828 L86.7191,-38.6622 L83.5193,-40.3145 L79.6485,-41.5298 L75.0878,-42.2776 L69.8052,-42.5332 L65.5239,-42.4613 L61.2749,-42.2438 L57.097,-41.8815 L52.9901,-41.3748 L50.9808,-41.0507 L50.9808,43.7685 L59.8576,43.7685 L59.8576,11.3433 L59.9011,10.8825 L60.0299,10.4378 L60.2396,10.0251 L60.5227,9.65885 L60.8693,9.35196 L61.2671,9.11526 L61.7022,8.95709 L62.1592,8.88303 L62.6219,8.89569 L64.4162,9.1145 L66.0728,9.28159 L67.6127,9.40005 L69.0344,9.47043 L70.2964,9.49289 L75.3908,9.23345 L79.8021,8.47527 L83.5679,7.24242 L86.7114,5.56149 L89.2777,3.44434 L91.4025,0.752959 L93.0945,-2.59154 L94.3384,-6.63996 L95.1031,-11.4088 L95.3622,-16.8885 L95.1036,-22.2215 L94.3416,-26.849 z M87.102,-17.0038 L87.1024,-16.7846 L86.9495,-13.2092 L86.9257,-12.9573 L86.4671,-9.8257 L86.3991,-9.50848 L85.6347,-6.82077 L85.4886,-6.43385 L84.4184,-4.18998 L84.1518,-3.75398 L82.7759,-1.95396 L82.3949,-1.55667 L80.7428,-0.180754 L80.3293,0.0979752 L78.3321,1.16813 L77.9324,1.33881 L75.5899,2.1032 L75.2398,2.18972 L72.5521,2.64835 L72.2614,2.68036 L69.2285,2.83324 L69.0626,2.83601 L67.6077,2.81135 L67.5199,2.8083 L66.1144,2.73433 L66.0208,2.72761 L64.6646,2.60432 L64.565,2.59322 L63.2581,2.42061 L63.1525,2.40432 L61.8949,2.1824 L61.4223,2.04936 L60.9854,1.82532 L60.6016,1.51917 L60.286,1.14303 L60.0512,0.711835 L59.9065,0.242665 L59.8576,-0.245874 L59.8576,-32.671 L59.9014,-33.1336 L60.0312,-33.5798 L60.2424,-33.9937 L60.5275,-34.3606 L60.8763,-34.6676 L61.2766,-34.9036 L61.714,-35.0603 L62.9321,-35.371 L63.0865,-35.4052 L64.3737,-35.6468 L64.5173,-35.6694 L65.8735,-35.842 L66.0061,-35.8553 L67.4314,-35.9589 L67.5531,-35.9647 L69.0474,-35.9992 L69.2342,-35.9964 L72.2276,-35.8386 L72.5286,-35.8041 L75.1966,-35.3307 L75.5529,-35.2396 L77.8954,-34.4506 L78.2928,-34.2765 L80.3098,-33.1718 L80.7109,-32.8975 L82.4025,-31.4772 L82.7638,-31.1019 L84.1398,-29.3315 L84.4013,-28.915 L85.4714,-26.7599 L85.6241,-26.3739 L86.3885,-23.8341 L86.4634,-23.5055 L86.922,-20.5811 L86.9491,-20.3129 L87.102,-17.0038 z "/>
            </g>
            <g id="result[1]" >
              <polygon points="111.886,-15.4105 111.886,-9.49259 122.242,-9.49259 122.723,-9.44521 123.186,-9.3049 123.612,-9.07703 123.986,-8.77038 124.292,-8.39672 124.52,-7.97042 124.661,-7.50785 124.708,-7.0268 124.708,35.3848 124.661,35.8659 124.52,36.3284 124.292,36.7547 123.986,37.1284 123.612,37.4351 123.186,37.6629 122.723,37.8032 122.242,37.8506 108.187,37.8506 108.187,43.7685 146.407,43.7685 146.407,37.8506 135.927,37.8506 135.446,37.8032 134.984,37.6629 134.557,37.4351 134.184,37.1284 133.877,36.7547 133.649,36.3284 133.509,35.8659 133.462,35.3848 133.462,-15.4105 111.886,-15.4105 "/>
            </g>
            <g id="result[2]" >
              <polygon points="122.242,-34.5204 133.462,-34.5204 133.462,-45 122.242,-45 122.242,-34.5204 "/>
            </g>
            <g id="result[3]" >
              <polygon points="194.897,37.9815 194.683,38.0345 192.587,38.4537 192.383,38.4857 190.178,38.7372 189.988,38.7515 187.675,38.8353 187.503,38.8355 185.308,38.7616 185.097,38.7454 183.248,38.5235 182.953,38.4697 181.449,38.0998 181.032,37.9567 179.873,37.4388 179.317,37.096 178.504,36.4302 178.185,36.1178 177.929,35.7531 177.352,34.752 177.136,34.2613 176.687,32.836 176.61,32.5166 176.289,30.6672 176.262,30.454 176.069,28.1805 176.061,28.0312 175.997,25.3337 175.997,25.2751 175.997,-4.43772 176.044,-4.91877 176.184,-5.38134 176.412,-5.80764 176.719,-6.1813 177.092,-6.48795 177.519,-6.71581 177.981,-6.85613 178.462,-6.90351 196.833,-6.90351 196.833,-12.9447 178.462,-12.9447 177.981,-12.9921 177.519,-13.1324 177.092,-13.3603 176.719,-13.6669 176.412,-14.0406 176.184,-14.4669 176.044,-14.9294 175.997,-15.4105 175.997,-36.3697 167.613,-36.3697 167.613,-15.4105 167.565,-14.9294 167.425,-14.4669 167.197,-14.0406 166.891,-13.6669 166.517,-13.3603 166.091,-13.1324 165.628,-12.9921 165.147,-12.9447 154.914,-12.9447 154.914,-6.90351 165.147,-6.90351 165.628,-6.85613 166.091,-6.71581 166.517,-6.48795 166.891,-6.1813 167.197,-5.80764 167.425,-5.38134 167.565,-4.91877 167.613,-4.43772 167.613,27.6908 167.778,31.7695 168.257,35.1669 169.019,37.9108 170.015,40.0005 171.191,41.4865 172.763,42.6458 174.931,43.6286 177.717,44.3745 181.12,44.8404 185.134,45 187.548,44.9305 189.988,44.7205 192.442,44.37 194.91,43.8782 195.6,43.7023 195.6,37.7741 194.897,37.9815 "/>
            </g>
            <g id="result[4]" >
              <path d="M212.945,-7.0685 L213.032,-7.09555 L215.226,-7.73665 L215.304,-7.75806 L217.647,-8.35972 L217.717,-8.37671 L220.208,-8.93891 L220.24,-8.94594 L222.755,-9.47855 L222.832,-9.49358 L225.15,-9.90784 L225.243,-9.92264 L227.363,-10.2185 L227.478,-10.2318 L229.401,-10.4093 L229.543,-10.4183 L231.269,-10.4775 L231.465,-10.4764 L233.64,-10.3777 L233.91,-10.3506 L235.799,-10.0547 L236.142,-9.97534 L237.745,-9.48219 L238.165,-9.30923 L239.482,-8.61881 L239.946,-8.30339 L240.977,-7.4157 L241.314,-7.06056 L242.158,-5.97562 L242.438,-5.52034 L243.094,-4.1395 L243.242,-3.74509 L243.71,-2.06835 L243.776,-1.75266 L244.057,0.219977 L244.08,0.466077 L244.174,2.73461 L244.176,2.83637 L244.176,4.93229 L244.128,5.41334 L243.988,5.87591 L243.76,6.30221 L243.454,6.67587 L243.08,6.98252 L242.654,7.21038 L242.191,7.3507 L241.71,7.39808 L237.323,7.39808 L231.725,7.63255 L226.81,8.32058 L222.536,9.44657 L218.895,10.9882 L215.867,12.924 L213.459,15.2109 L211.597,17.8273 L210.262,20.7999 L209.446,24.1773 L209.166,28.0103 L209.342,31.2373 L209.86,34.1227 L210.702,36.6486 L211.855,38.839 L213.303,40.7087 L215.058,42.2282 L217.05,43.4242 L219.28,44.287 L221.782,44.8158 L224.542,44.9943 L228.507,44.6391 L231.942,43.6074 L234.934,41.9098 L237.553,39.5093 L239.954,36.1658 L240.261,35.8141 L240.628,35.5265 L241.044,35.3134 L241.492,35.1824 L241.957,35.1382 L242.203,35.1382 L242.676,35.1839 L243.13,35.3193 L243.551,35.5392 L243.922,35.8357 L244.229,36.1977 L244.46,36.6118 L244.609,37.0627 L244.668,37.5336 L244.846,43.7685 L252.313,43.7685 L252.313,5.34987 L252.117,0.291686 L251.547,-3.96159 L250.628,-7.43447 L249.41,-10.1214 L247.933,-12.086 L246.037,-13.631 L243.495,-14.8955 L240.243,-15.847 L236.271,-16.4392 L231.584,-16.6418 L229.923,-16.5921 L228.046,-16.4389 L225.973,-16.1797 L223.707,-15.8131 L221.233,-15.3349 L218.792,-14.8321 L216.522,-14.2968 L214.408,-13.7267 L212.451,-13.1232 L212.244,-13.05 L212.244,-6.83526 L212.945,-7.0685 z M241.71,11.7132 L242.191,11.7606 L242.654,11.9009 L243.08,12.1288 L243.454,12.4354 L243.76,12.8091 L243.988,13.2354 L244.128,13.698 L244.176,14.179 L244.176,17.6311 L244.174,17.7309 L244.026,21.3852 L244.005,21.6171 L243.562,24.8867 L243.507,25.1675 L242.767,28.0525 L242.657,28.3836 L241.621,30.8839 L241.43,31.2538 L240.098,33.3694 L239.828,33.7229 L238.24,35.4539 L237.898,35.7635 L236.093,37.1098 L235.677,37.3601 L233.655,38.3217 L233.212,38.4827 L230.973,39.0597 L230.55,39.1302 L228.094,39.3226 L227.741,39.3249 L226.227,39.2262 L225.873,39.1771 L224.487,38.8812 L224.102,38.7654 L222.844,38.2722 L222.458,38.0804 L221.329,37.39 L220.979,37.1312 L219.978,36.2435 L219.644,35.8821 L218.801,34.7627 L218.573,34.3986 L217.918,33.1114 L217.767,32.7477 L217.299,31.2929 L217.216,30.958 L216.935,29.3355 L216.903,29.0435 L216.809,27.2533 L216.812,26.9388 L216.99,24.5865 L217.057,24.1727 L217.59,22.0472 L217.748,21.6022 L218.635,19.7035 L218.89,19.2768 L220.133,17.605 L220.458,17.2472 L222.056,15.8022 L222.409,15.5361 L224.412,14.2933 L224.776,14.1069 L227.134,13.1403 L227.461,13.0322 L230.173,12.3418 L230.452,12.2877 L233.519,11.8735 L233.75,11.8533 L237.172,11.7152 L237.272,11.7132 L241.71,11.7132 z "/>
            </g>
        </g>
      </g>
    </g>
  </g>
  </svg>
  

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fa fa-search"></i></label>
    <input data-search-input id="search-by" type="text" placeholder="">
    <span data-search-clear=""><i class="fa fa-close"></i></span>
</div>

<script type="text/javascript" src="/Pita/js/lunr.min.js?1553849836"></script>
<script type="text/javascript" src="/Pita/js/auto-complete.js?1553849836"></script>
<script type="text/javascript">
    
        var baseurl = "\/Pita\/ja";
    
</script>
<script type="text/javascript" src="/Pita/js/search.js?1553849836"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">

        
          
          


 
  
    
    <li data-nav-id="/Pita/ja/start/" title="ダウンロードとインストール" class="dd-item 
        
        
        
        ">
      <a href="/Pita/ja/start/">
          ダウンロードとインストール
          
      </a>
      
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Pita/ja/tutorial/" title="チュートリアル" class="dd-item 
        parent
        
        
        ">
      <a href="/Pita/ja/tutorial/">
          チュートリアル
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/Pita/ja/tutorial/recycle/" title="リサイクルマークを作る" class="dd-item 
        parent
        active
        
        ">
      <a href="/Pita/ja/tutorial/recycle/">
          リサイクルマークを作る
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Pita/ja/syntax/" title="構文" class="dd-item 
        
        
        
        ">
      <a href="/Pita/ja/syntax/">
          構文
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/Pita/ja/syntax/entry/" title="初級編" class="dd-item 
        
        
        
        ">
      <a href="/Pita/ja/syntax/entry/">
          初級編
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/Pita/ja/syntax/basic/" title="中級編" class="dd-item 
        
        
        
        ">
      <a href="/Pita/ja/syntax/basic/">
          中級編
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/Pita/ja/syntax/advanced/" title="上級編" class="dd-item 
        
        
        
        ">
      <a href="/Pita/ja/syntax/advanced/">
          上級編
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
          


 
  
    
    <li data-nav-id="/Pita/ja/reference/" title="リファレンス" class="dd-item 
        
        
        
        ">
      <a href="/Pita/ja/reference/">
          リファレンス
          
      </a>
      
      
        <ul>
          
          
            
          
          
          
        
          
            
            


 
  
    
    <li data-nav-id="/Pita/ja/reference/function/" title="組み込みの関数" class="dd-item 
        
        
        
        ">
      <a href="/Pita/ja/reference/function/">
          組み込みの関数
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/Pita/ja/reference/record/" title="組み込みのレコード" class="dd-item 
        
        
        
        ">
      <a href="/Pita/ja/reference/record/">
          組み込みのレコード
          
      </a>
      
              
    </li>
  
 

            
          
            
            


 
  
    
    <li data-nav-id="/Pita/ja/reference/constraint/" title="組み込みの制約" class="dd-item 
        
        
        
        ">
      <a href="/Pita/ja/reference/constraint/">
          組み込みの制約
          
      </a>
      
              
    </li>
  
 

            
          
        
        </ul>
              
    </li>
  
 

          
         
    </ul>

    
    
      <section id="shortcuts">
        <h3></h3>
        <ul>
          
              <li> 
                  <a class="padding" href="https://github.com/agehama/Pita"><i class='fa fa-fw fa-github'></i> Github repo</a>
              </li>
          
        </ul>
      </section>
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            <i class="fa fa-fw fa-language"></i>
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
              
                  
                    
                    
                      <option id="ja" value="/Pita/ja/tutorial/recycle/" selected>Japanese</option>
                    
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
       
      
      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fa fa-heart"></i></a> from <a href="http://getgrav.org">Grav</a> and <a href="http://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>





        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fa fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fa fa-list-alt"></i></span>
                  
                  <span class="links">
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/Pita/ja/'>はじめに</a> > <a href='/Pita/ja/tutorial/'>チュートリアル</a> > リサイクルマークを作る
          
         
          
         
          
           
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">

    </div>
</div>

                
              </div>
            </div>
            

        
        <div id="body-inner">
          
            <h1>リサイクルマークを作る</h1>
          

        


<p><img src="https://github.com/agehama/Pita/raw/master/docs/pita_doc/images/recycle.png?classes=shadow" alt="リサイクルマーク" />
このチャプターでは、上に示すようなリサイクルマークを作ります。</p>

<p>まず最初に、原型となる矢印の形を作りましょう。
矢印の形はPitaに初めから入っており、<code>Arrow{}</code>という風に呼び出すこともできますが、ここでは練習のために自分で定義してみます。</p>

<pre><code>arrow = Shape{
    body: Square{scale: Vec2(200, 20), pos: Vec2(-100, 0)}
    head: Triangle{scale: X2(50), pos: X2(0), angle: 90}
}
</code></pre>

<p>一旦ここで<code>rycycle.cgl</code>のように名前を付けて保存し、実行してみましょう。
実行の仕方は<a href="/Pita/ja/start/">ダウンロードとインストール</a>を参照してください。
正しく実行されると、次のような図が出力されるはずです。
<img src="https://github.com/agehama/Pita/raw/master/docs/pita_doc/images/arrow.png?classes=shadow" alt="矢印の形" /></p>

<p>次に、円の弧に沿った形のパスを作ります。
先ほどの後ろに続けて次のように書いてみましょう。</p>

<pre><code>arcPath = (r, begin, end, num -&gt; 
{
    delta = 1.0*(end - begin)/num
    line: for i in 0:num list(
        angle = begin + delta*i
        Vec2(r*Cos(angle), r*Sin(angle))
    )
})
</code></pre>

<p>これは、beginとendで指定された角度の円弧をパスとして返す関数です。
ただ関数を定義しただけでは何も表示されないので、続けて次のように書いて出力を確認してみましょう。</p>

<pre><code>Shape{
    path: arcPath(100, 0, 120, 50)
    stroke: Rgb(0, 0, 0)
}
</code></pre>

<p>ここまでのコードを実行すると、次のような図が出力されるはずです。
<img src="https://github.com/agehama/Pita/raw/master/docs/pita_doc/images/arc.png?classes=shadow" alt="円弧の形" /></p>

<p>最後に矢印を定義した円の弧に沿って曲げることで、リサイクルマークの形を作ります。
先ほどの後ろに続けて次のように書いてみましょう。</p>

<pre><code>recycle = Shape{
    a = arrow{}
    arrows: for i in 0:2 list(
        DeformShapeByPath2(a, 
            arcPath(100, 120*i, 120*(i+1), 50),
            a.body.left(), a.head.top())
    )
    fill: Rgb(0, 162, 232)
}
</code></pre>

<p>ここまで書いて実行し、冒頭に示したリサイクルマークの図が出力されれば成功です。
<img src="https://github.com/agehama/Pita/raw/master/docs/pita_doc/images/recycle.png?classes=shadow" alt="リサイクルマーク" /></p>

<hr />

<p>以下にこの例で用いたソースコード全体を記載します。</p>

<pre><code>arrow = Shape{
    body: Square{scale: Vec2(200, 20), pos: Vec2(-100, 0)}
    head: Triangle{scale: X2(50), pos: X2(0), angle: 90}
}

arcPath = (r, begin, end, num -&gt; 
{
    delta = 1.0*(end - begin)/num
    line: for i in 0:num list(
        angle = begin + delta*i
        Vec2(r*Cos(angle), r*Sin(angle))
    )
})

Shape{
    path: arcPath(100, 0, 120, 50)
    stroke: Rgb(0, 0, 0)
}

recycle = Shape{
    a = arrow{}
    arrows: for i in 0:2 list(
        DeformShapeByPath2(a, 
            arcPath(100, 120*i, 120*(i+1), 50),
            a.body.left(), a.head.top())
    )
    fill: Rgb(0, 162, 232)
}

</code></pre>


<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        
        
        


        
            <a class="nav nav-prev" href="/Pita/ja/tutorial/" title="チュートリアル"> <i class="fa fa-chevron-left"></i></a>
        
        
            <a class="nav nav-next" href="/Pita/ja/syntax/" title="構文" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
        
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/Pita/js/clipboard.min.js?1553849836"></script>
    <script src="/Pita/js/perfect-scrollbar.min.js?1553849836"></script>
    <script src="/Pita/js/perfect-scrollbar.jquery.min.js?1553849836"></script>
    <script src="/Pita/js/jquery.sticky.js?1553849836"></script>
    <script src="/Pita/js/featherlight.min.js?1553849836"></script>
    <script src="/Pita/js/html5shiv-printshiv.min.js?1553849836"></script>
    <script src="/Pita/js/highlight.pack.js?1553849836"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/Pita/js/modernizr.custom.71422.js?1553849836"></script>
    <script src="/Pita/js/learn.js?1553849836"></script>
    <script src="/Pita/js/hugo-learn.js?1553849836"></script>

    <script src="/Pita/js/pita/pita.js?1553849836"></script>
    

    
    <script src="https://cdn.jsdelivr.net/npm/rgbcolor@^1/index.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/stackblur-canvas@^1/dist/stackblur.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/canvg/dist/browser/canvg.min.js"></script>

    <link href="/Pita/mermaid/mermaid.css?1553849836" type="text/css" rel="stylesheet" />
    <script src="/Pita/mermaid/mermaid.js?1553849836"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    <script language="javascript" type="text/javascript">
        var editor = ace.edit("editorTest");
        editor.setTheme("ace/theme/monokai");
        editor.session.setMode("ace/mode/javascript");
        editor.setShowPrintMargin(false);
        editor.renderer.setScrollMargin(5, 5);
        editor.session.setOption("useWorker", false);
        
        var fontSize = 12;
        editor.setFontSize(fontSize);

        var currentSVG = "";
        

        function minusFont() {
            fontSize = Math.max(fontSize - 1, 10);
            editor.setFontSize(fontSize);
            console.log(fontSize);
            return false;
        }
        function plusFont() {
            fontSize = Math.min(fontSize + 1, 64);
            editor.setFontSize(fontSize);
            console.log(fontSize);
            return false;
        }
        function loadPitaShapes() {
            editor.setValue("AlignHBottom([\n    Triangle{scale:X2(100)},\n    Square{scale:X2(100)},\n    Hexagon{scale:X2(100)},\n    Circle{scale:X2(100)}\n])", 1);
            return false;
        }
        function loadPita3rects() {
            editor.setValue("Shape{\n    a: Square{scale: X2(30), fill: Rgb(255, 0, 0)}\n    b: Square{scale: X2(40), fill: Rgb(0, 255, 0)}\n    c: Square{scale: X2(50), fill: Rgb(0, 0, 255)}\n    scale: X2(3)\n\n    sat( Contact(a.topRight(), b.bottomLeft()) & Contact(a.bottomRight(), c.topLeft()) )\n    sat( Contact(b.bottomRight(), c.topRight()) )\n    \n    var(b.pos, c.pos, c.angle)\n}", 1);
            return false;
        }
        function loadPitafib() {
            editor.setValue("memo = [1, 1]\nfib = (x, fib ->\n    if x <= 1\n    then 1\n    else \n        if memo[x] != 0\n        then memo[x]\n        else memo[x] = fib(x - 1, fib) + fib(x - 2, fib)\n)\n\nShape{\n    sequenceSize = 11\n    seq: Shape{\n        bars: AlignVLeft(for i in 0:sequenceSize list(\n            v = fib(i, fib)\n            Square{scale: Vec2(v, 30), fill: Hsv(v, 1, 1)}\n        ))\n        \n        texts: AlignVRight(for i in 0:sequenceSize list(\n            Text(Fixed(fib(i, fib), 3))\n        ))\n        \n        for i in 0:sequenceSize list(\n            sat(Contact(Moved(Right(BoundingBox(texts[i])), 10, 0), Left(bars[i])))\n            var(texts[i].pos)\n        )\n    }\n    caption: Text(\"Fibonacci sequence\")\n    sat(Contact(Moved(Bottom(BoundingBox(caption)), 0, 10), Top(BoundingBox(seq))))\n    var(caption.pos)\n}\n", 1);
            return false;
        }
        function loadPitafractal() {
            editor.setValue("koch_template = (p, q ->\n    vby3 = (q - p) / 3.0\n    nby3 = SetLength(Vec2(q.y - p.y, p.x - q.x), \n                     0.5*Sqrt(3.0)*Length(vby3))\n    ps = [p, p + vby3, \n          (p + q)*0.5 + nby3, p + vby3*2, q]\n    for i in 0:Size(ps)-2 list( [ps[i], ps[i+1]] )\n)\n\nrec_curve = (f, depth, template, ps -> \n    if depth == 0 then { line: ps }\n    else {\n        ss = template(ps[0], ps[1])\n        b: for i in 0:3 list( f(f, depth-1, template, ss[i]) )\n    }\n)\n\ntree = Shape{\n    tri = Triangle{scale = {x: 10, y: 10}}\n    ps = [[tri.p0(), tri.p1()], [tri.p1(), tri.p2()], [tri.p2(), tri.p0()]]\n    a: Shape{\n        l: for i in 0:2 list( rec_curve(rec_curve, 4, koch_template, ps[i]) )\n    }\n    stroke: {r: 91, g: 155, b: 213}\n    scale: X2(30)\n}\n", 1);
            return false;
        }
        function loadPitaEmpty() {
            editor.setValue("", 1);
            return false;
        }
        function runPita() {
            var code = editor.getValue();
            
            
            var buttonHTML = "<button class=\"w3-bar-item w3-button w3-indigo\" style=\"position:absolute;right:0;bottom:0;z-index:1000;\" onclick=\"saveSVG(); return false\">Download SVG</button>";

            document.getElementById("pitaBoxRight").innerHTML = "<div style=\"position:absolute;left:0;top:0;\" class=\"w3-container\"><div class=\"w3-panel w3-pale-blue w3-leftbar w3-border-blue\"><p>Running...</p></div></div>";
            

            setTimeout(function() {
                
                
                pitaModule.then(function(pita){
                    var svgResult = pita.run(code, true);
                    currentSVG = svgResult;
                    console.log(svgResult);

                    if(svgResult.startsWith("<svg"))
                    {
                        var svgText = "<svg id=\"svg-1\"" + svgResult.substr(4);
                        document.getElementById("pitaBoxRight").innerHTML = svgText + buttonHTML;
                    }
                    else
                    {
                        if(svgResult == "")
                        {
                            var svgText = "<div style=\"position:absolute;left:0;top:0;\" class=\"w3-container\"><div class=\"w3-panel w3-pale-green w3-leftbar w3-border-green\"><p>Result is empty.</p></div></div>";
                            document.getElementById("pitaBoxRight").innerHTML = svgText;
                        }
                        else
                        {
                            var svgText = "<div style=\"position:absolute;left:0;top:0;\" class=\"w3-container\"><div class=\"w3-panel w3-pale-red w3-leftbar w3-border-red\"><p>" + svgResult + "</p></div></div>";
                            document.getElementById("pitaBoxRight").innerHTML = svgText;
                        }
                    }
                });
            }, 20);
            
            
            return false;
        }
        function saveSVG() {
            const a = document.createElement('a');
            a.href = URL.createObjectURL(new Blob([currentSVG], {type: 'text/plain'}));
            a.download = 'save.svg';

            a.style.display = 'none';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }
    </script>
    

  </body>
</html>
